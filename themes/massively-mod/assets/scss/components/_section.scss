///
/// Massively by HTML5 UP
/// html5up.net | @ajlkn
/// Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
///

/* Section/Article */

section,
article {
  &.special {
    text-align: center;
  }
}

header {
  cursor: default;

  >.date {
    display: block;
    font-size: 0.8rem;
    height: 1;
    margin: 0 0 (_size(element-margin) * 0.5) 0;
    position: relative;
  }

  >p {
    font-style: italic;
  }

  >h1+p {
    font-size: 1.1rem;
    margin-top: -0.5rem;
    line-height: 2;
  }

  >h2+p {
    font-size: 1rem;
    margin-top: -0.75rem;
  }

  >h3+p {
    font-size: 0.9rem;
    margin-top: -0.75rem;
  }

  >h4+p {
    font-size: 0.8rem;
    margin-top: -0.75rem;
  }

  &.major {
    text-align: center;

    > h1 {
      margin-bottom: (_size(element-margin) * 2) !important;
    }

    > :last-child {
      margin-bottom: 0;
    }

    >p {
      margin-top: 0;
      text-align: center;
    }

    >.date {
      font-size: 1rem;
      margin: 0 0 (_size(element-margin) * 2) 0;

      &:before,
      &:after {
        content: '';
        display: block;
        position: absolute;
        top: 50%;
        width: calc(50% - 6rem);
        border-top: solid 2px;
      }

      &:before {
        left: 0;
      }

      &:after {
        right: 0;
      }
    }
  }

  @include breakpoint('<=medium') {
    br {
      display: none;
    }
  }

  @include breakpoint('<=small') {
    &.major {
      margin: 0 0 _size(element-margin) 0;
    }
  }
}

.grid {
  display: grid;
  grid-template-columns: 3fr 1fr;
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "A B"
    "A C";
  column-gap: 3rem;

  .grid-main {
    grid-area: A;
  }
  .grid-search {
    grid-area: B;
  }
  .grid-taxonomies {
    grid-area: C;
    overflow: auto;
    border-top: 2px solid _palette(alt, fg);
  }
  @include breakpoint('<=medium') {
    grid-template-columns: 1fr;
    grid-template-areas:
      "B"
      "A"
      "C";
    .grid-taxonomies {
      border-top: none;
    }
  }
}

#search {
  margin: 1.2rem 0 3rem;
  overflow-wrap: anywhere;
  word-break: normal;
  p {
    margin-bottom: 0 !important;
  }
}

.pagefind-ui__form.svelte-e9gkc3:before {
  background-color: _palette(bg);
}

.pagefind-ui__result.svelte-j9e30.svelte-j9e30 {
  border-top: 2px solid _palette(alt, fg);
}

.pagefind-ui__search-clear.svelte-e9gkc3 {
  box-shadow: none !important;
}

.pagefind-ui__message.svelte-e9gkc3 {
  color: _palette(alt, fg);
  font-size: x-small;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.pagefind-ui__result-title.svelte-j9e30 {
  font-family: _font(family-heading);
  font-weight: 900;
  text-transform: uppercase;
  line-height: 2;
}

.pagefind-ui__result-excerpt.svelte-j9e30 {
  color: _palette(alt, fg);
  font-size: small;
}

.pagefind-ui__result-image.svelte-j9e30::before {
  display: none;
}

@mixin color-section($p: null) {
  header {
    &.major {
      .date {

        &:before,
        &:after {
          border-top-color: _palette($p, border);
        }
      }
    }
  }
}

@include color-section;